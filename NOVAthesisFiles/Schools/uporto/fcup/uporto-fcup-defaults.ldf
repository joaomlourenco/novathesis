%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% uporto/fcup/defaults.ldf
%% NOVA thesis configuration file
%%
%% Customization for FCUP (strings and cover)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\typeout{NT FILE uporto/fcup/defaults.ldf}%

%-----------------------------------------------------------------
% New global properties
%-----------------------------------------------------------------
\options{/novathesis,
% UPORTO/FC
  uporto/fcup/classification/.new value = {},
  uporto/fcup/funding/.new value        = {},
}


\ifdocfinal{\ntsetup{print/frontpage=true}}{}

% Faculty / School
\school(pt):={Faculdade de Ciências}
\school(en):={Faculdade de Ciências}
\school(fr):={Faculdade de Ciências}
\school(it):={Faculdade de Ciências}

\adviserString(a,1,m,en):={Adviser}
\adviserString(a,1,f,en):={Adviser}
\adviserString(a,2,m,en):={Adviser}
\adviserString(a,2,f,en):={Adviser}
\adviserString(c,1,m,en):={Co-adviser}
\adviserString(c,1,f,en):={Co-adviser}
\adviserString(c,2,m,en):={Co-adviser}
\adviserString(c,2,f,en):={Co-adviser}
\adviserString(ca,1,m,en):={Co-adviser}
\adviserString(ca,1,f,en):={Co-adviser}
\adviserString(ca,2,m,en):={Co-adviser}
\adviserString(ca,2,f,en):={Co-adviser}

\degreeString(bsc,m,en):={BSc}
\degreeString(bsc,f,en):={BSc}
\degreeString(msc,m,en):={MSc}
\degreeString(msc,f,en):={MSc}
\degreeString(mscplan,m,en):={MSc}
\degreeString(mscplan,f,en):={MSc}
\degreeString(phd,m,en):={PhD Degree}
\degreeString(phd,f,en):={PhD Degree}
\degreeString(phdplan,m,en):={PhD Degree}
\degreeString(phdplan,f,en):={PhD Degree}
\degreeString(phdprop,m,en):={PhD Degree}

% Committee printing order
\committeeorder():={c,m}%

% Cover background images
\thesiscover(phd,1-1,bgcolor):={white}

% Set margins for "normal" pages
\margin(screen,top):={3.5cm}
\margin(screen,bottom):={2.5cm}
\margin(screen,left):={3.0cm}
\margin(screen,right):={3.0cm}
\margin(paper,top):={3.5cm}
\margin(paper,bottom):={2.5cm}
\margin(paper,left):={2.5cm}
\margin(paper,right):={3.5cm}

% Set margins for cover pages
\margin(cover,top):={8.6mm}
\margin(cover,bottom):={2.85cm}
\margin(cover,left):={3.0cm}
\margin(cover,right):={2.75cm}


\ifdocfinal{% final
  \dissertationString(bsc,pt)={Tese aprovada em provas públicas para obtenção do Grau de %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ em\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(mscplan,pt)={Plano de tese submetido para obtenção do Grau de %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ em\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(msc,pt)={Tese aprovada em provas públicas para obtenção do Grau de %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ em\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(phdplan,pt)={Plano de tese submetido para obtenção do Grau de %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ em\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(phdprop,pt)={Proposta de tese submetida para obtenção do Grau de %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ em\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(phd,pt)={Tese aprovada em provas públicas para obtenção do Grau de %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ em\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}

  \dissertationString(bsc,en)={Thesis approved in public session to obtain the %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ in\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(mscplan,en)={Thesis plan submitted to obtain the %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ in\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(msc,en)={Thesis approved in public session to obtain the %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ in\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(phdplan,en)={Thesis plan submitted to obtain the %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ in\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(phdprop,en)={Thesis proposal submitted to obtain the %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ in\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(phd,en)={Thesis approved in public session to obtain the %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ in\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
}{% working, provisional
  \dissertationString(bsc,pt)={Relatório especialmente elaborado para obtenção do Grau de %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ em\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(mscplan,pt)={Relatório intermédio especialmente elaborado para obtenção do Grau de %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ em\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(msc,pt)={Dissertação especialmente elaborada para obtenção do Grau de %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ em\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(phdplan,pt)={Relatório intermédio especialmente elaborado para obtenção do Grau de %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ em\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(phdprop,pt)={Proposta de tese especialmente elaborada para obtenção do Grau de %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ em\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(phd,pt)={Tese especialmente elaborada para obtenção do Grau de %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ em\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}

  \dissertationString(bsc,en)={Report specifically prepared to obtain the %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ in\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(mscplan,en)={Dissertation plan specifically prepared to obtain the %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ in\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(msc,en)={Dissertation specifically prepared to obtain the %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ in\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(phdplan,en)={Thesis plan specifically prepared to obtain the %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ in\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(phdprop,en)={Thesis proposal specifically prepared to obtain the %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ in\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
  \dissertationString(phd,en)={Thesis specifically prepared to obtain the %
    \thedegreeString(\option{/novathesis/doctype},\expanded{\thedocauthor(gender)},\@LANG@COVER)\ in\\%
    {\fontsize{10.75}{12}\selectfont\themajorfield(\@LANG@COVER)}}
}

\copyrighttextString(pt)={O \theschool(\@LANG@COVER)\ e a \theuniversity(\@LANG@COVER)\ têm o direito, perpétuo e sem limites geográficos, de arquivar e publicar esta dissertação através de exemplares impressos reproduzidos em papel ou de forma digital, ou por qualquer outro meio conhecido ou que venha a ser inventado, e de a divulgar através de repositórios científicos e de admitir a sua cópia e distribuição com objetivos educacionais ou de investigação, não comerciais, desde que seja dado crédito ao autor e editor.}

\copyrighttextString(en)={The \theschool(\@LANG@COVER)\ and the \theuniversity(\@LANG@COVER)\ have the right, perpetual and without geographical boundaries, to file and publish this dissertation through printed copies reproduced on paper or on digital form, or by any other means known or that may be invented, and to disseminate through scientific repositories and admit its copying and distribution for non-commercial, educational or research purposes, as long as credit is given to the author and editor.}

% Spine info
\SpineSetup[%
]{%
  box/logo/bg/image           = {uporto-fc-logo},
  box/logo/bg/image/angle     = {-90},
  box/title/len               = {18.6cm},
  box/logo/len                = {2.1cm},
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% IST guidelines:
% The pages should be numbered consecutively at the bottom centre of the
% page.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\frenchspacing

% Fazer indentação parágrafos
% \setlength{\parindent}{17pt}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Draw the cover page
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\AtEndPreamble{%
  \LoadHelveticaLikeFont%
  % \RequirePackage{gillius2}%
}

% \NTAddToHook{cover/1-1/text/pre}{%
  % \sffamily%
% }
% \NTAddToHook{cover/2-1/text/pre}{%
%   \sffamily%
% }


% LOGO
\ntaddtocover[halign=l, hspace=-2.25mm, vspace=10mm]{1-1,2-1}{%
  \includegraphics[height=1.65cm]{uporto-fc-logo-horiz}%
}

% School
\ntaddtocover[vspace=5mm,hspace=0mm]{1-1,2-1}{%
    \fontsize{14}{16}\selectfont%
  % \SetTracking[ spacing = {25*,166, } ]{ encoding = * }{ 25 }%
  \textbf{\textls[25]{\THEuniversity(\@LANG@COVER)}}\\%
  \vspace{2mm}%
  \textbf{\textls[25]{\THEschool(\@LANG@COVER)}}%
}

% % Title of Dissertation
\ntaddtocover[vspace=1.2cm,height=6.35cm,valign=c]{1-1,2-1}{%
    \fontsize{20}{24}\selectfont%
  \textbf{\thedoctitle(\@LANG@COVER,main,cover)}%
}

% Author name
\ntaddtocover[vspace=1.0cm,height=3.0cm]{1-1,2-1}{%
    \fontsize{11}{12}\selectfont%
  \textbf{\thedocauthor(name)}%
}

% Advisers
\ntaddtocover[vspace=1.5cm,hspace=35mm,height=3.0cm,valign=t]{1-1}{%
    \adviserstringfont():={\bfseries}%
  \fontsize{11}{12}\selectfont%
  \ntprintpersons[name]{0.9}{2}{adviser}{a,c}%
}

% Committee
\ntaddtocover[vspace=1.7cm,height=3.0cm,valign=t]{2-1}{%
    \fontsize{11}{12}\selectfont%
  \ntprintpersons[full]{0.9}{2}{committee}{\thecommitteeorder()}%
}

% Degree
\ntaddtocover[vspace=1,height=1.6cm,valign=t]{1-1}{%
    \fontsize{10.75}{12}\selectfont%
  \thepresentationtext%
}


% % Committee — only print the committee for the main classes
% \ntaddtocover[vspace=1]{1-1,2-1}{%
%   \ifmaindoc{%
%     \committeetitlestringfont():={\fontsize{14}{14}\selectfont\bfseries}%
%     \committeestringfont():={\bfseries}%
%     \fontsize{12}{12}\selectfont%
%     \ntprintpersons{0.9}{2}{committee}{\thecommitteeorder()}%
%   }%
%   {}%
% }


% Images
\newdata{covermsg}
\covermsg(msc,pt,prov):={Dissertação Provisória}
\covermsg(phd,pt,prov):={Tese Provisória}
\covermsg(msc,en,prov):={Draft}
\covermsg(phd,en,prov):={Draft}
\ifoptionequal{/novathesis/uporto/fcup/classification}{}{
  \covermsg(msc,pt,final):={}
  \covermsg(phd,pt,final):={}
  \covermsg(msc,en,final):={}
  \covermsg(phd,en,final):={}
}{
  \covermsg(msc,pt,final):={Qualificação atribuída pelo Júri: \option{/novathesis/uporto/fcup/classification}}
  \covermsg(phd,pt,final):={Qualificação atribuída pelo Júri: \option{/novathesis/uporto/fcup/classification}}
  \covermsg(msc,en,final):={Jury final classification: \option{/novathesis/uporto/fcup/classification}}
  \covermsg(phd,en,final):={Jury final classification: \option{/novathesis/uporto/fcup/classification}}
}

% Provisional/draf message
\ntaddtocover[vspace=1,height=1.25cm,valign=t,status={working,provisional}]{1-1}{%
  \fontsize{12}{12}\selectfont%
  \thecovermsg(\@DOCTYPE,\@LANG@COVER,prov)%
}

% Approved message
\ntaddtocover[vspace=1,height=1.25cm,valign=t,status={final}]{1-1}{%
  \fontsize{11}{11}\selectfont%
  \thecovermsg(\@DOCTYPE,\@LANG@COVER,final)%
}

% Funding
\ntaddtocover[vspace=1,height=1.25cm,valign=t,halign=l,status={final}]{2-1}{%
  \ifoptionequal{/novathesis/uporto/fcup/funding}{}{}{%
    \newdata{funding}
    \funding(pt):={Instituições Financiadoras:}
    \funding(en):={Funding Institutions:}
    \fontsize{11}{11}\selectfont%
    \thefunding(\@LANG@COVER)\\[0.75ex]%
    \@for\myi:=\expanded{\option{/novathesis/uporto/fcup/funding}}\do{\hspace*{0.5cm}\myi\\}
  }%
}

% Date
\ntaddtocover[vspace=1,height=8.5mm,valign=b]{1-1,2-1}{%
    \fontsize{12}{12}\selectfont%
    \printisodate{\GetDocDate(submission,year)-\GetDocDate(submission,month)}%
}

